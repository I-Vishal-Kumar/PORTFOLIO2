"use client";

import React, { useState, useRef } from "react";
import Image from "next/image";
import { FaArrowUp } from "react-icons/fa6";
import { motion } from "framer-motion";

export default function About() {
  const [skills, updateSkills] = useState([
    {
      language: "java script",
      image: "/skillIcons/java_script.png",
    },
    {
      language: "node js",
      image: "/skillIcons/node_js.png",
    },
    {
      language: "mongo db",
      image: "/skillIcons/mongo_db.png",
    },
    {
      language: "next js",
      image: "/skillIcons/next_js.png",
    },
    {
      language: "react",
      image: "/skillIcons/react_js.png",
    },
    {
      language: "tailwind",
      image: "/skillIcons/tailwind.png",
    },
    {
      language: "git",
      image: "/skillIcons/git.svg",
    },
    {
      language: "github",
      image: "/skillIcons/github.svg",
    },
    {
      language: "rest api",
      image: "/skillIcons/api.png",
    },
  ]);

  let [isDragging, updateDragging] = useState(false);
  const [hoveredSkill, setHovered] = useState(-1);
  let currentDragging = useRef(null);
  let itemDragging = useRef(null);

  function dragStart(e, draggingItem) {
    setHovered(-1);
    currentDragging.current = draggingItem;
    itemDragging.current = e.target;
    itemDragging.current.addEventListener("dragend", dragEnd);
    updateDragging(true);
  }
  function dragEnd(e) {
    updateDragging(false);
    e.target.removeEventListener("dragend", dragEnd);
    currentDragging.current = null;
    itemDragging.current = null;
  }

  function dragEnter(e, dragOverItem) {
    if (itemDragging.current !== e.target) {
      // here we have to update the list according to the items dragged over;

      let newList = JSON.parse(JSON.stringify(skills));

      newList.splice(
        dragOverItem.item_idx,
        0,
        newList.splice(currentDragging.current.item_idx, 1)[0]
      );
      currentDragging.current = dragOverItem;
      updateSkills(newList);
    }
  }
  return (
    <div className="h-full pt-[10%]  snap-align-start-10  px-10 overflow-x-hidden  w-[100%] ">
      <div className="py-2 h-[80%] flex justify-center flex-col space-y-4">
        <div className="flex space-x-4 items-center">
          <div className="size-14 flex justify-center items-center bg-gray-100 shadow-sm rounded-full">
            <svg
              width="56"
              height="56"
              viewBox="0 0 62 28"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M51.0584 14.6274C49.472 14.376 47.8927 14.0558 46.297 13.8937C44.8567 13.7473 43.3972 13.7138 41.9483 13.7418C40.6212 13.7675 39.499 14.3809 38.5774 15.3091C37.8826 16.0088 37.2395 16.7583 36.5637 17.4768C36.1452 17.9217 35.7213 18.3632 35.2765 18.782C34.8306 19.2019 34.2966 19.4476 33.6709 19.517C33.2311 19.5658 32.8758 19.455 32.5635 19.1562C31.99 18.6076 31.757 17.9105 31.6633 17.154C31.6145 16.7602 31.5827 16.3643 31.5432 15.9693C31.4999 15.9519 31.4565 15.9344 31.4132 15.917C30.9098 16.8647 30.4064 17.8125 29.8856 18.7929C29.0614 18.8703 28.811 18.6604 28.8179 17.7676C28.8218 17.259 28.8847 16.7508 28.9213 16.2383C28.6357 16.4191 28.3642 16.6309 28.0591 16.7718C27.8124 16.8858 27.5143 16.9953 27.2586 16.9616C26.8845 16.9123 26.7532 17.0667 26.6018 17.3527C26.3175 17.8899 26.0143 18.4229 25.6599 18.9162C25.4794 19.1675 25.1708 19.3288 24.9202 19.5308C24.7402 19.2517 24.468 18.9933 24.3978 18.6894C24.2023 17.8432 24.0864 16.9787 23.9473 16.1201C23.8589 15.5747 23.7852 15.0271 23.7394 14.4458C23.8927 14.3786 24.0242 14.3682 24.1279 14.3097C24.6071 14.0393 24.6115 13.8096 24.214 13.448C24.0763 13.3228 24.0278 13.1017 23.9386 12.9244C23.9735 12.912 24.0085 12.8995 24.0758 12.9187C24.3382 13.1339 24.5682 13.3176 24.7982 13.5013C24.9608 14.6632 25.1146 15.8264 25.2904 16.9863C25.3578 17.4307 25.4755 17.8677 25.5702 18.308C25.6087 18.312 25.6473 18.3159 25.6858 18.3198C25.9529 17.8269 26.2336 17.3403 26.4761 16.8359C26.5269 16.7301 26.4608 16.549 26.4084 16.4183C25.8774 15.095 25.8411 13.7764 26.4706 12.4785C26.625 12.1602 26.8345 11.8486 27.0852 11.5992C27.6574 11.0297 28.3353 11.2139 28.4731 11.9986C28.5489 12.4307 28.5173 12.9169 28.3948 13.3394C28.1804 14.0793 27.8694 14.7931 27.5767 15.5091C27.4568 15.8024 27.4464 16.0241 27.7375 16.2242C28.0321 16.4267 28.2538 16.3313 28.4819 16.1222C28.8815 15.7559 29.1183 15.3299 29.2401 14.7848C29.8454 12.0769 30.669 9.43586 32.2054 7.08528C32.7067 6.31827 33.3734 5.64201 34.038 4.99835C34.6237 4.43108 35.3898 4.18485 36.2266 4.20323C37.2046 4.22471 37.8428 4.75164 37.8685 5.7176C37.8835 6.28038 37.7797 6.88174 37.5763 7.40803C36.9655 8.98905 35.8699 10.2576 34.6575 11.4149C33.9257 12.1135 33.1045 12.7211 32.3187 13.3638C32.1905 13.4686 32.0478 13.5917 31.894 13.6243C30.9769 13.819 30.7539 14.5143 30.6087 15.2869C30.5031 15.8487 30.3714 16.4057 30.3339 17.0137C30.4116 16.904 30.4976 16.7991 30.5657 16.6839C31.301 15.4397 32.0803 14.2261 33.1398 13.2192C33.7061 12.681 34.3024 12.1735 35.0966 11.9872C35.5879 11.8719 36.0834 11.8291 36.4545 12.261C36.8411 12.7109 36.7774 13.2217 36.5416 13.7044C35.9595 14.8958 34.9005 15.4245 33.6498 15.6574C33.3502 15.7131 33.043 15.7291 32.6762 15.7705C32.7697 16.3316 32.8601 16.8735 32.9251 17.4488C32.8313 17.6005 32.6769 17.7534 32.7089 17.8313C32.8757 18.2364 33.0853 18.6248 33.2937 19.0118C33.3198 19.0602 33.4267 19.0661 33.4962 19.0918C33.509 19.0209 33.5312 18.9502 33.5324 18.8791C33.5342 18.7728 33.5212 18.6662 33.5145 18.5597C34.1409 19.0773 34.3392 19.1128 34.9532 18.5735C35.5461 18.0529 36.0751 17.4602 36.6214 16.8891C37.2262 16.257 37.807 15.6021 38.4194 14.9774C39.6215 13.7512 41.1125 13.2026 42.8243 13.1676C44.9049 13.1251 46.948 13.4275 48.9867 13.7835C49.6882 13.906 50.3905 14.0238 51.122 14.1891C51.1204 14.3654 51.0894 14.4964 51.0584 14.6274ZM32.7733 8.99454C32.1134 10.4784 31.5209 11.9854 31.1534 13.594C31.4643 13.474 31.7487 13.3368 32.0033 13.1582C33.4477 12.145 34.7649 10.9886 35.86 9.61006C36.3232 9.02701 36.7185 8.38505 37.0905 7.73942C37.4262 7.15684 37.5781 6.50933 37.545 5.82753C37.4952 4.80346 36.6954 4.3182 35.804 4.84408C35.3358 5.12031 34.8739 5.50156 34.5754 5.94472C33.9281 6.90568 33.3878 7.93695 32.7733 8.99454ZM32.5158 14.9614C33.6936 14.6704 34.7585 14.1885 35.4489 13.1451C35.5957 12.9233 35.6132 12.618 35.6903 12.3512C35.3995 12.379 35.0667 12.3261 34.8249 12.4485C33.6971 13.0196 32.8782 13.9297 32.1431 14.9354C32.1978 14.9664 32.2191 14.9886 32.2402 14.9884C32.3097 14.988 32.3791 14.9795 32.5158 14.9614ZM27.8043 11.9713C27.1463 13.0029 27.1488 14.143 27.2775 15.3131C27.6339 14.4645 27.9171 13.5961 28.1734 12.7201C28.2291 12.5296 28.2132 12.308 28.1842 12.1072C28.1603 11.9423 28.0781 11.7677 27.8043 11.9713Z"
                fill="#080808"
              />
              <path
                d="M23.288 2.07364C25.0259 0.948618 26.9356 0.271601 28.9963 0.0840458C31.6467 -0.157186 34.2466 0.0952744 36.7097 1.17609C39.9103 2.58058 42.2246 4.87453 43.6183 8.06562C43.541 8.10353 43.5086 8.10595 43.4761 8.10837C42.5442 6.18803 41.2809 4.52377 39.5819 3.19778C39.4404 3.08739 39.2838 2.99594 39.0762 2.95566C40.1609 3.9132 41.074 5.00773 41.9103 6.1656C42.7513 7.33011 43.3795 8.59969 43.8053 9.99049C43.6377 9.99049 43.4967 9.99049 43.3264 9.99049C42.3022 6.25742 39.9396 3.63577 36.3891 1.96454C36.4922 1.88116 36.6087 1.84651 36.7837 1.79443C36.5466 1.67759 36.3603 1.58576 36.1142 1.46443C36.1521 1.66323 36.1742 1.77915 36.1963 1.89508C35.013 1.58018 33.8476 1.13187 32.6432 0.974465C28.3931 0.419007 24.6976 1.67491 21.5556 4.54468C21.4531 4.63837 21.3557 4.7376 21.252 4.83003C21.2358 4.84441 21.1989 4.83599 21.1155 4.79298C21.4054 4.33694 21.7855 3.94985 22.1968 3.59569C22.6286 3.22396 23.0697 2.85993 23.5317 2.52629C23.9859 2.19823 24.4715 1.91254 24.9434 1.60826C24.921 1.56438 24.8986 1.5205 24.8762 1.47663C24.4301 1.70902 23.9841 1.9414 23.4639 2.14934C23.3559 2.10781 23.3219 2.09072 23.288 2.07364ZM27.0382 1.02125C27.0306 1.01813 27.023 1.015 27.0154 1.01188C27.0235 1.02513 27.0315 1.03838 27.0633 1.08288C27.0933 1.08172 27.1233 1.08056 27.1533 1.07939C27.119 1.06666 27.0846 1.05393 27.0382 1.02125ZM38.5656 2.64798C38.5975 2.63714 38.6294 2.62629 38.6613 2.61544C38.6358 2.58053 38.6104 2.54561 38.557 2.47101C38.514 2.44808 38.471 2.42515 38.3754 2.36576C38.3448 2.3723 38.3142 2.37883 38.2836 2.38537C38.3092 2.41811 38.3347 2.45086 38.3856 2.52703C38.4286 2.55323 38.4716 2.57942 38.5656 2.64798ZM25.6019 1.18809C25.5771 1.22146 25.5524 1.25483 25.5276 1.28819C25.5924 1.27074 25.6572 1.25329 25.7759 1.22927C25.8001 1.2059 25.8243 1.18254 25.8486 1.15917C25.7869 1.16261 25.7252 1.16605 25.6019 1.18809ZM25.2166 1.50049C25.3037 1.44587 25.3908 1.39125 25.4778 1.33663C25.4622 1.30958 25.4467 1.28252 25.4311 1.25546C25.3089 1.30775 25.1866 1.36003 24.9963 1.43624C24.9785 1.4851 24.9607 1.53395 24.9429 1.58281C25.0139 1.56234 25.0849 1.54188 25.2166 1.50049ZM34.2318 0.915051C34.2965 0.95955 34.3611 1.00405 34.4258 1.04855C34.4437 1.00167 34.4615 0.954796 34.4793 0.907919C34.3782 0.892105 34.2771 0.876292 34.1369 0.842049C34.0854 0.83173 34.0339 0.82141 33.9824 0.811091C33.9819 0.847763 33.9813 0.884433 33.9808 0.921108C34.0502 0.909218 34.1196 0.897328 34.2318 0.915051ZM28.9285 0.700991C30.5767 0.440162 32.2155 0.515776 33.8905 0.881768C33.3178 0.261269 29.4042 0.170045 28.3851 0.740199C28.5796 0.727324 28.7168 0.718241 28.9285 0.700991ZM27.733 0.92246C27.6529 0.903253 27.5729 0.884048 27.4928 0.864841C27.4892 0.891368 27.4856 0.917893 27.4821 0.944421C27.5551 0.948147 27.6281 0.95187 27.733 0.92246ZM28.1493 0.863746C28.1955 0.819268 28.2416 0.774791 28.2878 0.730313C28.2595 0.710398 28.2312 0.690484 28.203 0.67057C28.1729 0.724081 28.1429 0.77759 28.1493 0.863746ZM25.26 1.83763C25.2583 1.79958 25.2567 1.76154 25.255 1.7235C25.2018 1.75234 25.1486 1.78118 25.0954 1.81002C25.136 1.82652 25.1766 1.84302 25.26 1.83763ZM27.2427 0.715599C27.2624 0.699998 27.2822 0.684395 27.3019 0.668795C27.2932 0.660636 27.2813 0.643835 27.2765 0.645628C27.2138 0.668678 27.1521 0.694383 27.0902 0.719413C27.1264 0.721698 27.1625 0.723983 27.2427 0.715599ZM35.5608 1.26796C35.5144 1.28464 35.468 1.30132 35.4215 1.318C35.4302 1.33678 35.4389 1.35555 35.4476 1.37433C35.4933 1.34948 35.539 1.32463 35.5608 1.26796ZM34.6449 0.947706C34.6461 0.994536 34.6474 1.04136 34.6486 1.08819C34.6723 1.08406 34.6959 1.07993 34.7195 1.0758C34.7065 1.03879 34.6935 1.00179 34.6449 0.947706ZM37.6987 2.03888C37.6909 2.00681 37.6832 1.97474 37.6754 1.94266C37.6656 1.94954 37.6467 1.95769 37.6475 1.96309C37.6522 1.9956 37.6613 2.02748 37.6987 2.03888ZM38.0554 2.18972C37.9851 2.17047 37.9147 2.15121 37.8444 2.13196C37.8396 2.15011 37.8348 2.16826 37.83 2.1864C37.8924 2.20686 37.9549 2.22732 38.0554 2.18972ZM35.1794 1.13646C35.1605 1.14047 35.1416 1.14448 35.1228 1.1485C35.1295 1.17292 35.1363 1.19735 35.1431 1.22178C35.1574 1.20505 35.1718 1.18833 35.1794 1.13646ZM34.9029 1.03105C34.8968 1.06554 34.8907 1.10002 34.8846 1.13451C34.8992 1.10826 34.9139 1.08202 34.9029 1.03105ZM25.9705 1.05162C25.9781 1.08323 25.9856 1.11484 25.9932 1.14645C26.0029 1.13971 26.0216 1.13173 26.0208 1.12644C26.0163 1.09434 26.0073 1.06286 25.9705 1.05162ZM36.5522 1.44019C36.5479 1.42722 36.5436 1.41425 36.5393 1.40128C36.5351 1.41432 36.5309 1.42735 36.5522 1.44019ZM35.8945 1.5053C35.8784 1.50107 35.8622 1.49684 35.8461 1.4926C35.8564 1.50292 35.8668 1.51323 35.8945 1.5053ZM36.8034 1.5234C36.799 1.51032 36.7947 1.49724 36.7904 1.48416C36.7861 1.4973 36.7818 1.51043 36.8034 1.5234ZM26.7705 0.811952C26.7617 0.799954 26.7529 0.787953 26.7441 0.775954C26.7458 0.792492 26.7475 0.809027 26.7705 0.811952Z"
                fill="#101010"
              />
              <path
                d="M35.5425 25.8798C35.6702 25.8581 35.8047 25.8548 35.9247 25.812C37.9527 25.0872 39.6892 23.9266 41.2024 22.3771C41.2404 22.3769 41.2666 22.4027 41.2666 22.4027C39.8755 24.1623 38.1035 25.4276 36.0311 26.2824C30.357 28.6225 23.9834 26.9424 20.2355 22.1229C19.7681 21.5218 19.3414 20.8888 18.9158 20.2574C18.8033 20.0904 18.7657 19.8742 18.6742 19.6598C18.6547 19.639 18.6598 19.6471 18.6598 19.6471C18.8885 19.9626 19.1431 20.2631 19.3416 20.5963C20.2631 22.143 21.5608 23.3186 23.0461 24.3135C23.1181 24.3617 23.2069 24.3854 23.3308 24.4392C22.4191 23.4955 21.5478 22.5936 20.6767 21.6468C20.6982 21.5847 20.7196 21.5674 20.7409 21.5501C22.2772 23.4036 24.1582 24.7941 26.4137 25.6862C29.3456 26.8459 32.2784 26.7801 35.2482 25.7308C35.2796 25.7876 35.2777 25.822 35.2649 25.8659C35.2542 25.8753 35.2352 25.8968 35.2091 25.9015C35.118 25.9331 35.0531 25.96 34.9584 25.9942C34.8563 26.0245 34.7838 26.0472 34.7113 26.07C34.7153 26.09 34.7193 26.1099 34.7233 26.1298C34.8398 26.1135 34.9564 26.0972 35.1003 26.0782C35.197 26.0508 35.2663 26.0261 35.3645 25.9988C35.4401 25.9543 35.4868 25.9125 35.5351 25.8736C35.5366 25.8765 35.5425 25.8798 35.5425 25.8798ZM23.8489 24.6263C23.8197 24.662 23.7905 24.6977 23.8172 24.7819C23.8637 24.7818 23.9103 24.7817 23.9568 24.7816C23.9337 24.7438 23.9105 24.706 23.8489 24.6263ZM37.3778 25.4723C37.4149 25.4453 37.4519 25.4182 37.5438 25.378C37.5626 25.3474 37.5814 25.3169 37.6002 25.2864C37.5518 25.3103 37.5034 25.3342 37.4037 25.3576C37.3636 25.3845 37.3235 25.4114 37.2256 25.4476C37.2184 25.468 37.2112 25.4884 37.204 25.5088C37.2476 25.5038 37.2912 25.4988 37.3778 25.4723ZM36.7079 25.6854C36.4466 25.7962 36.1852 25.907 35.8617 26.0236C34.7765 26.2713 33.7025 26.6243 32.6032 26.7375C31.488 26.8522 30.3416 26.7966 29.2205 26.6925C28.1386 26.5921 27.0715 26.3347 25.998 26.1462C26.2256 26.2553 26.4579 26.3409 26.6938 26.4155C29.8445 27.4112 32.9587 27.3401 36.0912 26.0925C36.3398 25.9776 36.5885 25.8627 36.8934 25.7212C36.9111 25.6847 36.9288 25.6482 36.9466 25.6118C36.8872 25.6331 36.8279 25.6543 36.7079 25.6854ZM23.5366 24.4269C23.4665 24.3963 23.3964 24.3657 23.3263 24.3351C23.312 24.3755 23.2977 24.4159 23.2834 24.4562C23.3802 24.477 23.477 24.4978 23.5366 24.4269ZM24.0013 24.8837C24.0305 24.89 24.0597 24.8962 24.0889 24.9025C24.0844 24.8689 24.0799 24.8352 24.0754 24.8016C24.0434 24.8061 24.0115 24.8106 24.0013 24.8837ZM37.0842 25.5319C37.073 25.5485 37.0618 25.5651 37.0506 25.5817C37.0758 25.5789 37.101 25.5762 37.0842 25.5319Z"
                fill="#171717"
              />
              <path
                d="M22.1023 14.4153C21.0686 14.9211 19.9541 15.0902 18.8212 15.1527C16.7079 15.2694 14.6402 14.9002 12.5743 14.5366C9.78893 14.0462 6.99256 13.6539 4.15439 13.7481C3.37737 13.7739 2.59236 13.8801 1.83416 14.0501C1.14728 14.2042 0.466348 14.4652 0.490005 15.3808C0.491716 15.447 0.288882 15.5921 0.241977 15.5707C0.139832 15.524 0.0180165 15.3991 0.00783825 15.2962C-0.04787 14.7328 0.195104 14.2645 0.681384 14.012C1.18027 13.753 1.72581 13.5388 2.2763 13.4279C3.76852 13.1276 5.29264 13.1309 6.79123 13.3057C9.59346 13.6325 12.3832 14.0634 15.1789 14.4455C17.1713 14.7178 19.1613 14.848 21.1247 14.2529C21.4309 14.1601 21.727 14.0348 22.0582 13.9533C22.0932 14.1266 22.0978 14.2709 22.1023 14.4153Z"
                fill="#0C0C0C"
              />
              <path
                d="M51.0886 14.6383C51.0894 14.4964 51.1204 14.3654 51.1518 14.2008C52.7223 14.3174 54.2902 14.4967 55.863 14.6094C57.2308 14.7073 58.6021 14.6833 59.9422 14.3329C60.222 14.2598 60.4956 14.1425 60.7518 14.0081C61.1064 13.8221 61.311 13.5316 61.3216 13.1094C61.3246 12.9936 61.4607 12.8812 61.5357 12.7672C61.6301 12.8805 61.7982 12.9889 61.8065 13.108C61.8508 13.7461 61.5235 14.2472 60.9601 14.4577C60.2127 14.737 59.4221 14.9742 58.6315 15.0568C56.2249 15.3082 53.8342 15.021 51.4508 14.6945C51.3401 14.6794 51.2295 14.6643 51.0886 14.6383Z"
                fill="#0C0C0C"
              />
              <path
                d="M23.9082 12.9226C24.0278 13.1017 24.0762 13.3228 24.214 13.448C24.6115 13.8096 24.6071 14.0393 24.1279 14.3097C24.0242 14.3682 23.8926 14.3786 23.7428 14.4111C23.6769 14.2097 23.6501 14.0064 23.5998 13.8089C23.5907 13.7732 23.4853 13.7614 23.3675 13.7407C23.2668 13.6031 23.2231 13.4634 23.1793 13.3236C23.4121 13.1894 23.6449 13.0551 23.9082 12.9226Z"
                fill="#101010"
              />
              <path
                d="M24.8031 13.4703C24.5681 13.3176 24.3382 13.1339 24.1038 12.9201C24.7039 12.7235 24.7178 12.7343 24.8031 13.4703Z"
                fill="#171717"
              />
            </svg>
          </div>
          <div>
            <h1 className="text-xl font-itim">Developer.</h1>
          </div>
        </div>
        <div className="space-y-3 text-sm ">
          <p className="font-itim text-gray-700 text-wrap leading-5 pr-4 ">
            Lorem ipsum dolor sit amet consectetur adipisicing elit. A pariatur
            corrupti maiores, aliquam consequuntur vero culpa quam eaque
          </p>
          <p className="font-itim text-gray-950">
            Lorem ipsum dolor sit amet consectetur adipisicing elit.
          </p>
        </div>
        {/* skills */}
        <div className="flex w-[70vw] pt-5 gap-x-2 gap-y-1 justify-starts flex-wrap ">
          {skills.map((skill, i) => (
            <div
              key={i}
              draggable
              onDragEnter={(e) => {
                isDragging ? dragEnter(e, { group_idx: 0, item_idx: i }) : null;
              }}
              onDragStart={(e) => dragStart(e, { group_idx: 0, item_idx: i })}
              onMouseEnter={() => setHovered(i)}
              onMouseLeave={() => setHovered(-1)}
              className="rounded-full cursor-grab flex justify-center items-center size-8 relative bg-gray-100"
            >
              <Image
                height={20}
                alt={skill.language}
                width={20}
                src={skill.image}
              />
              {i === hoveredSkill && (
                <motion.div
                  initial={{ y: 5, opacity: 0.2 }}
                  animate={{ y: 0, opacity: 1 }}
                  className="absolute  min-w-[200%] h-full top-full -left-[50%] text-sm text-[#111] font-itim text-center"
                >
                  <div className="flex justify-center">
                    <FaArrowUp />
                  </div>
                  <p className="capitalize text-nowrap ">{skill.language}</p>
                </motion.div>
              )}
            </div>
          ))}
        </div>
      </div>
    </div>
  );
}
